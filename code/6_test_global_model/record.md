# single hospital

# hospital 18
| Hyperparameters  | Values      |
|------------------|-------------|
| Number of Epochs | 20          |
| Batch Size       | 8           |
| Learning Rate    | 0.0001      |
| Optimizer        | Adam        |

# 100 times average (Random-pick 3 patients dataset)
| Model        | Test Loss (Std Dev) | Total Accuracy (Std Dev) | NFF Accuracy (Std Dev) | AFF Accuracy (Std Dev) | AUC (Std Dev) |
|--------------|---------------------|-------------------------|------------------------|------------------------|---------------|
| VGG 19       | 0.4907 (0.0452)     | 81.4302 (1.6501)        | 83.5773 (1.6067)       | 70.8408 (4.4025)       | 0.7721 (0.0242) |
| ResNet 50    | 0.4332 (0.0462)     | 84.5893 (1.4409)        | 86.9856 (1.3616)       | 72.8067 (4.4525)       | 0.799 (0.0237) |
| ResNet 101   | 0.9993 (0.0694)     | 67.9053 (2.0639)        | 64.6889 (2.0852)       | 83.5869 (3.7605)       | 0.7414 (0.0234) |
| DenseNet 161 | 0.5808 (0.0643)     | 80.6796 (1.4057)        | 81.9849 (1.3732)       | 74.1996 (4.8814)       | 0.7809 (0.0253) |
| Efficient B2 | 0.6551 (0.0101)     | 61.7561 (1.9114)        | 60.6098 (2.0894)       | 67.3887 (4.9007)       | 0.64 (0.0268) |

---

# Hospital 43
| Hyperparameters  | Values      |
|------------------|-------------|
| Number of Epochs | 20          |
| Batch Size       | 8           |
| Learning Rate    | 0.0001      |
| Optimizer        | Adam        |

# 100 times average (Random-pick 3 patients dataset)
| Model        | Test Loss (Std Dev) | Total Accuracy (Std Dev) | NFF Accuracy (Std Dev) | AFF Accuracy (Std Dev) | AUC (Std Dev) |
|--------------|----------------------|--------------------------|------------------------|------------------------|---------------|
| VGG 19       | 0.6996 (0.0528)      | 76.2917 (1.4391)         | 77.0351 (1.5116)       | 72.614 (4.36)          | 0.7482 (0.0224) |
| ResNet 50    | 0.55 (0.048)         | 79.7042 (1.4613)         | 77.8387 (1.6358)       | 88.8406 (3.735)        | 0.8334 (0.02)   |
| ResNet 101   | 0.5976 (0.0527)      | 78.3434 (1.5704)         | 78.0623 (1.6181)       | 79.6968 (4.2404)       | 0.7888 (0.0232) |
| DenseNet 161 | 0.3791 (0.0323)      | 83.697 (1.2445)          | 83.6948 (1.3408)       | 83.679 (3.6613)        | 0.8369 (0.0193) |
| Efficient B2 | 0.6375 (0.0075)      | 65.0781 (1.5802)         | 66.2035 (1.7117)       | 59.4472 (4.5949)       | 0.6283 (0.0239) |
---

# Hospital 55
| Hyperparameters  | Values      |
|------------------|-------------|
| Number of Epochs | 20          |
| Batch Size       | 8           |
| Learning Rate    | 0.0001      |
| Optimizer        | Adam        |

# 100 times average (Random-pick 3 patients dataset)

| Model        | Test Loss (Std Dev) | Total Accuracy (Std Dev) | NFF Accuracy (Std Dev) | AFF Accuracy (Std Dev) | AUC (Std Dev) |
|--------------|---------------------|--------------------------|-------------------------|-------------------------|--------------|
| VGG 19       | 0.4477 (0.0443)      | 84.086 (1.4038)          | 85.5632 (1.5418)        | 76.8138 (4.3456)        | 0.8119 (0.0218) |
| ResNet 50    | 0.3999 (0.0461)      | 85.5381 (1.4211)         | 91.4987 (1.026)         | 56.1861 (5.1501)        | 0.7384 (0.0259) |
| ResNet 101   | 0.6002 (0.106)       | 85.6869 (1.3233)         | 88.0919 (1.2136)        | 73.83 (4.2389)          | 0.8096 (0.023)  |
| DenseNet 161 | 0.6214 (0.0441)      | 73.9409 (1.8103)         | 71.7195 (1.9356)        | 84.7703 (3.8227)        | 0.7824 (0.0227) |
| Efficient B2 | 0.599 (0.0093)       | 73.2676 (1.682)          | 78.9229 (1.4566)        | 45.4505 (4.5538)        | 0.6219 (0.0234) |

----

# Centralized Learning

| Model         | Test Loss (Std Dev) | Total Accuracy (Std Dev) | NFF Accuracy (Std Dev) | AFF Accuracy (Std Dev) | AUC (Std Dev) |
|---------------|----------------------|--------------------------|------------------------|------------------------|---------------|
| VGG 19        | 0.3519 (0.0531)      | 89.3554 (1.3163)         | 93.6652 (1.0021)       | 68.192 (5.2308)         | 0.8093 (0.026) |
| ResNet 50     | 0.3508 (0.0438)      | 88.3683 (1.1088)         | 90.5251 (1.2203)       | 77.6466 (4.7177)       | 0.8409 (0.0227) |
| ResNet 101    | 0.9495 (0.0914)      | 75.6372 (1.6483)         | 71.5852 (1.8724)       | 95.5052 (1.9059)       | 0.8355 (0.0118) |
| ResNet 152    | 0.3968 (0.0528)      | 87.5517 (1.2915)         | 90.2144 (1.3417)       | 74.348 (4.8697)        | 0.8228 (0.0243) |
| DenseNet 161  | 0.4221 (0.0436)      | 82.4314 (1.5482)         | 83.272 (1.6084)        | 78.1378 (4.7595)       | 0.807 (0.025)  |


# Federated Learning 200 Round, 1 epoch, 50% freezed
| Model        | Test Loss (Std Dev) | Total Accuracy (Std Dev) | NFF Accuracy (Std Dev) | AFF Accuracy (Std Dev) | AUC (Std Dev) |
|--------------|----------------------|--------------------------|------------------------|------------------------|---------------|
| VGG 19       | 0.5736 (0.0977)      | 88.1745 (1.4956)         | 91.6996 (1.3189)       | 70.8532 (4.7077)       | 0.8128 (0.0245) |
| ResNet 50    | 0.3845 (0.0416)      | 87.4984 (1.4084)         | 91.8517 (1.0737)       | 66.1412 (5.0764)       | 0.79 (0.0263)   |
| ResNet 101   | 0.5193 (0.0929)      | 89.291 (1.3926)          | 94.1199 (1.0247)       | 65.5622 (4.7336)       | 0.7984 (0.0239) |
| ResNet 152   | 0.3875 (0.0741)      | 91.1242 (1.3936)         | 95.3207 (0.8778)       | 70.5477 (5.448)        | 0.8293 (0.0281) |
| DenseNet 161 | 0.4327 (0.0272)      | 83.8643 (2.198)          | 98.1343 (0.415)        | 13.9229 (2.6984)       | 0.5603 (0.0139) |

# Federated Learning 100 Round, 2 epoch, 50% freezed

| Model         | Test Loss (Std Dev) | Total Accuracy (Std Dev) | NFF Accuracy (Std Dev) | AFF Accuracy (Std Dev) | AUC (Std Dev) |
|---------------|----------------------|--------------------------|------------------------|------------------------|---------------|
| VGG 19        | 0.6074 (0.1047)      | 90.5038 (1.4017)         | 96.047 (0.6729)        | 63.2832 (5.9231)       | 0.7967 (0.0298) |
| ResNet 50     | 0.5475 (0.053)        | 84.0876 (1.276)          | 85.4112 (1.4059)       | 77.5037 (4.466)        | 0.8146 (0.0226) |
| ResNet 101    | 0.4824 (0.0978)      | 90.8971 (1.3699)         | 96.0106 (0.8687)       | 65.8061 (5.1502)       | 0.8091 (0.0258) |
| ResNet 152    | 0.3818 (0.0696)      | 89.9757 (1.2699)         | 93.3193 (1.045)        | 73.4675 (4.6527)       | 0.8339 (0.0237) |
| DenseNet 161  | 0.4254 (0.0294)      | 83.7573 (2.2934)         | 98.8822 (0.2363)       | 9.6241 (2.7499)        | 0.5425 (0.0137) |



single hospital data 1 2 3
model           hospitals Avg ACC   hospitals Avg ACC   hospitals Avg ACC
VGG 19          88.3587279467067    81.53391008341211   82.83887729883267
resnet 50       90.43218976832975   90.49157423709335   90.16431050322272
resnet 101      92.18680581033118   90.60239730502543   89.73977058367468
resnet 152      91.20732514386049   90.89114450794729   91.01168763048115
densenet 161    83.57654970890194   83.89978678055978   84.2723406076776

hospital_18_1 seed 42
hospital_18_2 seed 1
hospital_18_3 seed 4

hospital_43_1 seed 42
hospital_43_2 seed 2
hospital_43_3 seed 4

hospital_55_1 seed 42
hospital_55_2 seed 1
hospital_55_1_3 seed 4